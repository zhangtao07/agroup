<!DOCTYPE html>
<html<%- cache ? ' manifest="cache.manifest"' : '' %>>

    <head>
        <title>StackEdit Viewer</title>
        <!--<link rel="canonical" href="https://stackedit.io/viewer">-->
        <!--<link rel="icon" href="res-min/img/stackedit-32.ico" type="image/x-icon">-->
        <!--<link rel="shortcut icon" href="res-min/img/stackedit-32.ico" type="image/x-icon">-->
        <meta name="description" content="Full-featured, open-source Markdown editor based on PageDown, the Markdown library used by Stack Overflow and the other Stack Exchange sites.">
        <meta name="author" content="Jonathan">
        <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
        <!--<meta name="msvalidate.01" content="5E47EE6F67B069C17E3CDD418351A612">-->
        <script>

            // Use ?debug to serve original JavaScript files instead of minified
            window.baseDir = 'res';
            /*
              res-min 是编译目录，从源码中祛除,请执行 gulp 进行编译
            if (!/(\?|&)debug($|&)/.test(location.search)) {
                window.baseDir += '-min';
            }
            */

            function getParam(param){
                var reg = new RegExp('.*'+param+'=([^&]+).*');
                var value = null;
                if(reg.test(location.search)){
                    value = location.search.replace(reg,'$1');
                }
                return value;
            }
            window.require = {
                baseUrl: window.baseDir,
                deps: ['main']
            };


            function imgresize(url,width,height){
              width = width || 30;
              height = height || 30;
              if(!/^http(s)?:\/\//.test(url)){
                url = url.replace(/^\//,function(s0,s1){
                  return ''
                });
                url = location.protocol+'//'+location.hostname+':'+location.port+'/'+url;
              }
              return '/static/image/resize?url=' + url + '&width=' + width + '&height='+ height +'&gravity=center&type=resize'
            }
        </script>
        <script src="res/require.js"></script>
    </head>

    <body class="viewer"></body>

</html>
